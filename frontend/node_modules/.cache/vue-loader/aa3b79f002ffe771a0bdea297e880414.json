{"remainingRequest":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\src\\views\\dashboard\\Dashboard.vue?vue&type=style&index=0&id=6764ce0f&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\src\\views\\dashboard\\Dashboard.vue","mtime":1743863662693},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZGFzaGJvYXJkLWNvbnRhaW5lciB7DQogIHBhZGRpbmc6IDIwcHg7DQp9DQoNCi5jYXJkLWhlYWRlciB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCg0KLmNhcmQtY29udGVudCB7DQogIHBhZGRpbmc6IDEwcHggMDsNCn0NCg0KLnN0YXR1cy1pdGVtIHsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBwYWRkaW5nOiAxMHB4IDA7DQp9DQoNCi5zdGF0dXMtbnVtYmVyIHsNCiAgZm9udC1zaXplOiAyNHB4Ow0KICBmb250LXdlaWdodDogYm9sZDsNCiAgY29sb3I6ICM0MDlFRkY7DQp9DQoNCi5zdGF0dXMtbGFiZWwgew0KICBmb250LXNpemU6IDE0cHg7DQogIGNvbG9yOiAjNjY2Ow0KICBtYXJnaW4tdG9wOiA1cHg7DQp9DQoNCi5jb25nZXN0aW9uLXN0YXR1cyB7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgbWFyZ2luLXRvcDogMTVweDsNCn0NCg0KLmNoYXJ0LWNvbnRhaW5lciB7DQogIGhlaWdodDogMzAwcHg7DQp9DQoNCi5ub3RpZmljYXRpb24tY29udGFpbmVyIHsNCiAgaGVpZ2h0OiAzMDBweDsNCiAgb3ZlcmZsb3cteTogYXV0bzsNCn0NCg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";AA4LA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>设备状态</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ deviceCount }}</div>\r\n                  <div class=\"status-label\">设备总数</div>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ onlineDeviceCount }}</div>\r\n                  <div class=\"status-label\">在线设备</div>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-progress :percentage=\"onlineRate\" :format=\"formatOnlineRate\"></el-progress>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>交通状态</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ trafficFlow }}</div>\r\n                  <div class=\"status-label\">当前流量(辆/h)</div>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ congestionIndex }}</div>\r\n                  <div class=\"status-label\">拥堵指数</div>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <div class=\"congestion-status\">\r\n              <el-tag :type=\"congestionTagType\">{{ congestionStatus }}</el-tag>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>报警信息</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ alarmCount }}</div>\r\n                  <div class=\"status-label\">报警总数</div>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ unhandledAlarmCount }}</div>\r\n                  <div class=\"status-label\">未处理报警</div>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-button type=\"danger\" plain size=\"small\" @click=\"goToAlarmPage\">查看报警</el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    \r\n    <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\r\n      <el-col :span=\"16\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>交通流量趋势</span>\r\n          </div>\r\n          <div class=\"chart-container\">\r\n            <div id=\"trafficChart\" style=\"width: 100%; height: 300px;\"></div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>系统通知</span>\r\n          </div>\r\n          <div class=\"notification-container\">\r\n            <el-timeline>\r\n              <el-timeline-item\r\n                v-for=\"(notification, index) in notifications\"\r\n                :key=\"index\"\r\n                :timestamp=\"notification.time\"\r\n                :type=\"notification.type\">\r\n                {{ notification.content }}\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n// 模拟引入图表库\r\n// import * as echarts from 'echarts'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      onlineDeviceCount: 65,\r\n      trafficFlow: 1250,\r\n      congestionIndex: 0.65,\r\n      unhandledAlarmCount: 5,\r\n      notifications: [\r\n        { content: '路口A发生交通拥堵，已自动调整信号灯', time: '10分钟前', type: 'warning' },\r\n        { content: '设备ID:12345上线', time: '30分钟前', type: 'success' },\r\n        { content: '系统完成流量数据分析', time: '1小时前', type: 'info' },\r\n        { content: '摄像头C离线，需要检修', time: '2小时前', type: 'danger' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'deviceCount',\r\n      'alarmCount',\r\n      'trafficData'\r\n    ]),\r\n    onlineRate() {\r\n      return this.deviceCount > 0 ? (this.onlineDeviceCount / this.deviceCount * 100) : 0\r\n    },\r\n    congestionStatus() {\r\n      if (this.congestionIndex < 0.4) return '通畅'\r\n      if (this.congestionIndex < 0.6) return '轻度拥堵'\r\n      if (this.congestionIndex < 0.8) return '中度拥堵'\r\n      return '严重拥堵'\r\n    },\r\n    congestionTagType() {\r\n      if (this.congestionIndex < 0.4) return 'success'\r\n      if (this.congestionIndex < 0.6) return ''\r\n      if (this.congestionIndex < 0.8) return 'warning'\r\n      return 'danger'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'fetchDeviceCount',\r\n      'fetchAlarmCount',\r\n      'fetchTrafficData'\r\n    ]),\r\n    formatOnlineRate(percentage) {\r\n      return `${percentage.toFixed(0)}%`\r\n    },\r\n    goToAlarmPage() {\r\n      this.$router.push('/monitor/alarm')\r\n    },\r\n    initChart() {\r\n      // 模拟图表加载\r\n      console.log('加载交通流量图表')\r\n    }\r\n  },\r\n  mounted() {\r\n    // 获取数据\r\n    this.fetchDeviceCount()\r\n    this.fetchAlarmCount()\r\n    this.fetchTrafficData()\r\n    \r\n    // 初始化图表\r\n    this.$nextTick(() => {\r\n      this.initChart()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.card-content {\r\n  padding: 10px 0;\r\n}\r\n\r\n.status-item {\r\n  text-align: center;\r\n  padding: 10px 0;\r\n}\r\n\r\n.status-number {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n}\r\n\r\n.status-label {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-top: 5px;\r\n}\r\n\r\n.congestion-status {\r\n  text-align: center;\r\n  margin-top: 15px;\r\n}\r\n\r\n.chart-container {\r\n  height: 300px;\r\n}\r\n\r\n.notification-container {\r\n  height: 300px;\r\n  overflow-y: auto;\r\n}\r\n</style> "]}]}