{"remainingRequest":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\src\\views\\dashboard\\Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\src\\views\\dashboard\\Dashboard.vue","mtime":1743863662693},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\intelligent-transportation-system\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCi8vIOaooeaLn+W8leWFpeWbvuihqOW6kw0KLy8gaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdEYXNoYm9hcmQnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjaGFydDogbnVsbCwNCiAgICAgIG9ubGluZURldmljZUNvdW50OiA2NSwNCiAgICAgIHRyYWZmaWNGbG93OiAxMjUwLA0KICAgICAgY29uZ2VzdGlvbkluZGV4OiAwLjY1LA0KICAgICAgdW5oYW5kbGVkQWxhcm1Db3VudDogNSwNCiAgICAgIG5vdGlmaWNhdGlvbnM6IFsNCiAgICAgICAgeyBjb250ZW50OiAn6Lev5Y+jQeWPkeeUn+S6pOmAmuaLpeWgte+8jOW3suiHquWKqOiwg+aVtOS/oeWPt+eBrycsIHRpbWU6ICcxMOWIhumSn+WJjScsIHR5cGU6ICd3YXJuaW5nJyB9LA0KICAgICAgICB7IGNvbnRlbnQ6ICforr7lpIdJRDoxMjM0NeS4iue6vycsIHRpbWU6ICczMOWIhumSn+WJjScsIHR5cGU6ICdzdWNjZXNzJyB9LA0KICAgICAgICB7IGNvbnRlbnQ6ICfns7vnu5/lrozmiJDmtYHph4/mlbDmja7liIbmnpAnLCB0aW1lOiAnMeWwj+aXtuWJjScsIHR5cGU6ICdpbmZvJyB9LA0KICAgICAgICB7IGNvbnRlbnQ6ICfmkYTlg4/lpLRD56a757q/77yM6ZyA6KaB5qOA5L+uJywgdGltZTogJzLlsI/ml7bliY0nLCB0eXBlOiAnZGFuZ2VyJyB9DQogICAgICBdDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgJ2RldmljZUNvdW50JywNCiAgICAgICdhbGFybUNvdW50JywNCiAgICAgICd0cmFmZmljRGF0YScNCiAgICBdKSwNCiAgICBvbmxpbmVSYXRlKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlQ291bnQgPiAwID8gKHRoaXMub25saW5lRGV2aWNlQ291bnQgLyB0aGlzLmRldmljZUNvdW50ICogMTAwKSA6IDANCiAgICB9LA0KICAgIGNvbmdlc3Rpb25TdGF0dXMoKSB7DQogICAgICBpZiAodGhpcy5jb25nZXN0aW9uSW5kZXggPCAwLjQpIHJldHVybiAn6YCa55WFJw0KICAgICAgaWYgKHRoaXMuY29uZ2VzdGlvbkluZGV4IDwgMC42KSByZXR1cm4gJ+i9u+W6puaLpeWgtScNCiAgICAgIGlmICh0aGlzLmNvbmdlc3Rpb25JbmRleCA8IDAuOCkgcmV0dXJuICfkuK3luqbmi6XloLUnDQogICAgICByZXR1cm4gJ+S4pemHjeaLpeWgtScNCiAgICB9LA0KICAgIGNvbmdlc3Rpb25UYWdUeXBlKCkgew0KICAgICAgaWYgKHRoaXMuY29uZ2VzdGlvbkluZGV4IDwgMC40KSByZXR1cm4gJ3N1Y2Nlc3MnDQogICAgICBpZiAodGhpcy5jb25nZXN0aW9uSW5kZXggPCAwLjYpIHJldHVybiAnJw0KICAgICAgaWYgKHRoaXMuY29uZ2VzdGlvbkluZGV4IDwgMC44KSByZXR1cm4gJ3dhcm5pbmcnDQogICAgICByZXR1cm4gJ2RhbmdlcicNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKFsNCiAgICAgICdmZXRjaERldmljZUNvdW50JywNCiAgICAgICdmZXRjaEFsYXJtQ291bnQnLA0KICAgICAgJ2ZldGNoVHJhZmZpY0RhdGEnDQogICAgXSksDQogICAgZm9ybWF0T25saW5lUmF0ZShwZXJjZW50YWdlKSB7DQogICAgICByZXR1cm4gYCR7cGVyY2VudGFnZS50b0ZpeGVkKDApfSVgDQogICAgfSwNCiAgICBnb1RvQWxhcm1QYWdlKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tb25pdG9yL2FsYXJtJykNCiAgICB9LA0KICAgIGluaXRDaGFydCgpIHsNCiAgICAgIC8vIOaooeaLn+WbvuihqOWKoOi9vQ0KICAgICAgY29uc29sZS5sb2coJ+WKoOi9veS6pOmAmua1gemHj+WbvuihqCcpDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8vIOiOt+WPluaVsOaNrg0KICAgIHRoaXMuZmV0Y2hEZXZpY2VDb3VudCgpDQogICAgdGhpcy5mZXRjaEFsYXJtQ291bnQoKQ0KICAgIHRoaXMuZmV0Y2hUcmFmZmljRGF0YSgpDQogICAgDQogICAgLy8g5Yid5aeL5YyW5Zu+6KGoDQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy5pbml0Q2hhcnQoKQ0KICAgIH0pDQogIH0NCn0NCg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";AAiHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>设备状态</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ deviceCount }}</div>\r\n                  <div class=\"status-label\">设备总数</div>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ onlineDeviceCount }}</div>\r\n                  <div class=\"status-label\">在线设备</div>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-progress :percentage=\"onlineRate\" :format=\"formatOnlineRate\"></el-progress>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>交通状态</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ trafficFlow }}</div>\r\n                  <div class=\"status-label\">当前流量(辆/h)</div>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ congestionIndex }}</div>\r\n                  <div class=\"status-label\">拥堵指数</div>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <div class=\"congestion-status\">\r\n              <el-tag :type=\"congestionTagType\">{{ congestionStatus }}</el-tag>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>报警信息</span>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ alarmCount }}</div>\r\n                  <div class=\"status-label\">报警总数</div>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <div class=\"status-item\">\r\n                  <div class=\"status-number\">{{ unhandledAlarmCount }}</div>\r\n                  <div class=\"status-label\">未处理报警</div>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-button type=\"danger\" plain size=\"small\" @click=\"goToAlarmPage\">查看报警</el-button>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    \r\n    <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\r\n      <el-col :span=\"16\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>交通流量趋势</span>\r\n          </div>\r\n          <div class=\"chart-container\">\r\n            <div id=\"trafficChart\" style=\"width: 100%; height: 300px;\"></div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>系统通知</span>\r\n          </div>\r\n          <div class=\"notification-container\">\r\n            <el-timeline>\r\n              <el-timeline-item\r\n                v-for=\"(notification, index) in notifications\"\r\n                :key=\"index\"\r\n                :timestamp=\"notification.time\"\r\n                :type=\"notification.type\">\r\n                {{ notification.content }}\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n// 模拟引入图表库\r\n// import * as echarts from 'echarts'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      onlineDeviceCount: 65,\r\n      trafficFlow: 1250,\r\n      congestionIndex: 0.65,\r\n      unhandledAlarmCount: 5,\r\n      notifications: [\r\n        { content: '路口A发生交通拥堵，已自动调整信号灯', time: '10分钟前', type: 'warning' },\r\n        { content: '设备ID:12345上线', time: '30分钟前', type: 'success' },\r\n        { content: '系统完成流量数据分析', time: '1小时前', type: 'info' },\r\n        { content: '摄像头C离线，需要检修', time: '2小时前', type: 'danger' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'deviceCount',\r\n      'alarmCount',\r\n      'trafficData'\r\n    ]),\r\n    onlineRate() {\r\n      return this.deviceCount > 0 ? (this.onlineDeviceCount / this.deviceCount * 100) : 0\r\n    },\r\n    congestionStatus() {\r\n      if (this.congestionIndex < 0.4) return '通畅'\r\n      if (this.congestionIndex < 0.6) return '轻度拥堵'\r\n      if (this.congestionIndex < 0.8) return '中度拥堵'\r\n      return '严重拥堵'\r\n    },\r\n    congestionTagType() {\r\n      if (this.congestionIndex < 0.4) return 'success'\r\n      if (this.congestionIndex < 0.6) return ''\r\n      if (this.congestionIndex < 0.8) return 'warning'\r\n      return 'danger'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'fetchDeviceCount',\r\n      'fetchAlarmCount',\r\n      'fetchTrafficData'\r\n    ]),\r\n    formatOnlineRate(percentage) {\r\n      return `${percentage.toFixed(0)}%`\r\n    },\r\n    goToAlarmPage() {\r\n      this.$router.push('/monitor/alarm')\r\n    },\r\n    initChart() {\r\n      // 模拟图表加载\r\n      console.log('加载交通流量图表')\r\n    }\r\n  },\r\n  mounted() {\r\n    // 获取数据\r\n    this.fetchDeviceCount()\r\n    this.fetchAlarmCount()\r\n    this.fetchTrafficData()\r\n    \r\n    // 初始化图表\r\n    this.$nextTick(() => {\r\n      this.initChart()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.card-content {\r\n  padding: 10px 0;\r\n}\r\n\r\n.status-item {\r\n  text-align: center;\r\n  padding: 10px 0;\r\n}\r\n\r\n.status-number {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n}\r\n\r\n.status-label {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-top: 5px;\r\n}\r\n\r\n.congestion-status {\r\n  text-align: center;\r\n  margin-top: 15px;\r\n}\r\n\r\n.chart-container {\r\n  height: 300px;\r\n}\r\n\r\n.notification-container {\r\n  height: 300px;\r\n  overflow-y: auto;\r\n}\r\n</style> "]}]}